<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Cari Barang</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-4">
  <h3>Cari Barang</h3>
  <form method="POST" class="mb-3">
    <input type="text" name="query" class="form-control" placeholder="Masukkan nama / kategori / ID" value="{{ query }}">
    <button class="btn btn-primary mt-2">Cari</button>
    <a href="{{ url_for('index') }}" class="btn btn-secondary mt-2">Kembali</a>
  </form>

  {% if result %}
    <h5>Ditemukan {{ result|length }} barang:</h5>
    <table class="table table-striped">
      <thead><tr><th>ID</th><th>Nama</th><th>Kategori</th><th>Harga</th><th>Stok</th></tr></thead>
      <tbody>
        {% for b in result %}
        <tr>
          <td>{{ b.id }}</td>
          <td>{{ b.nama }}</td>
          <td>{{ b.kategori }}</td>
          <td>Rp {{ "{:,.0f}".format(b.harga) }}</td>
          <td>{{ b.stok }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  {% elif query %}
    <p class="text-danger">Tidak ada hasil untuk "{{ query }}"</p>
  {% endif %}
</div>
</body>
</html>
